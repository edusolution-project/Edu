
@{
    ViewData["Title"] = "Dashboard - " + DateTime.Now.ToString("dd/MM/yyyy");
    Layout = "~/Views/Shared/_LayoutTeacher.cshtml";
}


<!-- Begin Page Content -->
    <div class="container">
        <div class="row">
            <!-- Content Column -->
            <div class="col-lg-6 mb-4">
                <!-- Project Card Example -->
                <div class="card shadow mb-4">
                    <div class="card-header py-3">
                        <a href="@Url.Action("Index", "Class")"><h6 class="m-0 font-weight-bold text-primary">Lớp của tôi</h6></a>
                    </div>
                    <div class="card-body">
                        <div class="card-content" id="myclassWrapper">

                        </div>
                        <div class="float-right">
                            <a href="@Url.Action("Index", "Class")"> Xem tất cả</a>
                        </div>
                    </div>
                </div>

                <!-- Project Card Example -->
                <div class="card shadow mb-4 hide">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">Báo cáo thống kê</h6>
                    </div>
                    <div class="card-body">
                        <h4 class="small font-weight-bold"><a href="school-calendar.html">Tiếng anh cơ bản <span>lớp: KT3</span><span class="float-right">40%</span></a></h4>
                        <div class="progress mb-4">
                            <div class="progress-bar bg-warning" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <h4 class="small font-weight-bold">Tiếng anh chuyên ngành <span class="float-right">60%</span></h4>
                        <div class="progress mb-4">
                            <div class="progress-bar" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <h4 class="small font-weight-bold">Tiếng anh giao tiếp <span class="float-right">80%</span></h4>
                        <div class="progress mb-4">
                            <div class="progress-bar bg-info" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="float-right">
                            <a href="#"> Xem tất cả</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6 mb-4">

                <!-- Illustrations -->
                <div class="card shadow mb-4">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">Bài giảng hôm nay</h6>
                    </div>
                    <div class="card-body">
                        <table id="dataTable" class="table table-bordered" width="100%" cellspacing="0">
                            <tbody>
                                <tr><td colspan="2">Preliminary English</td></tr>
                                <tr>
                                    <td>1</td>
                                    <td><a href="lesson-1.html">Part 1 Questions 1-7</a></td>
                                </tr>

                                </tr>
                                <tr><td colspan="2">Preliminary English 2</td></tr>
                                <tr>
                                    <td>2</td>
                                    <td><a href="lesson-1.html">Part 2 Questions 8-13</a></td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="float-right">
                            <a href="#"> Xem tất cả</a>
                        </div>
                    </div>
                </div>

                <!-- Approach -->
                <div id="thao-luan" class="card shadow mb-4 hide">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">Thảo luận mới</h6>
                    </div>
                    <div class="card-body">
                        <div class="item">
                            <div class="title"><span class="text">Phạm Anh Tuấn, </span><span class="date">14/6/2019</span><span class="time">14:23:30pm</span></div>
                            <br>
                            <p>Hello teacher, I don't understand last lesson, can you help?</p>
                        </div>
                        <div class="item">
                            <div class="title"><span class="text">Phạm Anh Tuấn, </span><span class="date">14/6/2019</span><span class="time">14:23:30pm</span></div>
                            <br>
                            <p>Hello teacher, I don't understand last lesson, can you help?</p>
                        </div>
                        <div class="item">
                            <div class="title"><span class="text">Phạm Anh Tuấn, </span><span class="date">14/6/2019</span><span class="time">14:23:30pm</span></div>
                            <br>
                            <p>Hello teacher, I don't understand last lesson, can you help?</p>
                        </div>
                    </div>
                </div>

                <!-- Approach -->
                <div class="card shadow mb-4 hide">
                    <div class="card-header py-3">
                        <h6 class="m-0 font-weight-bold text-primary">Tin tức</h6>
                    </div>
                    <div class="card-body">
                        <p>New class for beginer will open soon! Register now!</p>
                        <div class="float-right">
                            <a href="#"> Xem tất cả</a>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
        <!-- End of Main Content -->
        <script>
    function LoadMyClass() {
        $.ajax({
            type: "POST",
            url: '@Url.Action("GetActiveList", "Class")',
            data: { quantity: 3 },
            dataType:"json",
            success: function (data) {
                var body = $('#myclassWrapper');
                body.html("");
                if (data.Data.length > 0)
                {
                    for (i = 0; i < data.Data.length; ++i) {
                        item = data.Data[i];
                        body.append(" <h4 class=\"small font-weight-bold\"><a href=\"@Url.Action("Detail","Class")/" + item.ID + "\">"  +  item.Name + "</a><span class=\"float-right\">" + item.Progress + "%</span></h4>"+
                    "<div class=\"progress mb-4\">"+
                        "<div class=\"progress-bar\" role=\"progressbar\" style=\"width: " + item.Progress + "%\" aria-valuenow=\"" + item.Progress + "\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>"+
                    "</div>"
                        );
                    }
                }
            },
            error: function() {
                alert("Error");
            }
        });
    }

    $(document).ready(function(){
        LoadMyClass();
    });
        </script>
