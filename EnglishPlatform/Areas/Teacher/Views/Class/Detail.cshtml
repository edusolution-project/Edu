@{

    Layout = "~/Views/Shared/_LayoutTeacher_NewUI.cshtml";
    var currentClass = ViewBag.Class as BaseCustomerEntity.Database.ClassEntity;
    ViewData["Title"] = currentClass.Name;
}
<script src="/libs/vuejs-datepicker.min.js"></script>
<script>
    setActiveMenu("course");
</script>

<section class="module" id="dashboard_content">
    <div class="card-header">
        <div class="flex mb-2">
            <h2 class="title"><a href="/teacher/classes.html" title="Quản lý môn học"><i class="ti-arrow-left"></i></a>IELTS Practice</h2>
            <div class="search-box">
                <button><i class="ic ic-find"></i></button>
                <input type="text" name="" placeholder="Search">
            </div>
        </div>
        <div class="flex j-between border-b">
            <div class="tab bg-none">
                <ul class="flex">
                    <li v-bind:class="{active : tab1}"><a href="javascript:;" title="Tổng quan" v-on:click="tabChange()">Tổng quan</a></li>
                    <li v-bind:class="{active : tab2}"><a href="javascript:;" title="Môn học" v-on:click="tabChange(1)">Môn học</a></li>
                    <li v-bind:class="{active : tab3}"><a href="javascript:;" title="Học viên" v-on:click="tabChange(2)">Học viên</a></li>
                    <li v-bind:class="{active : tab4}"><a href="javascript:;" title="Tài liệu tham khảo" v-on:click="tabChange(3)">Tài liệu tham khảo</a></li>
                    <li v-bind:class="{active : tab5}"><a href="javascript:;" title="Học viên" v-on:click="tabChange(4)">Thảo luận</a></li>
                </ul>
            </div>
            <div class="c-right"></div>
        </div>
    </div>
    <div class="card-body">
        <div class="box" v-if="tab1">
            <ul class="box list ls-overview mb-3">
                <li class="flex margin-b20">
                    <a href="#" class="thumb"><img src="/pictures/ielts1.png" alt="" /></a>
                    <div class="c-right">
                        <p><span class="label">Khoá học: </span>IELTS Practice</p>
                        <p><span class="label">Mã lớp : </span>IELTS_PL5_1</p>
                        <p><span class="label">Cấp độ : </span>Ban 5.0+</p>
                        <p><span class="label">Môn học : </span>Listening, Speaking, Grammar</p>
                        <ul class="time-line flex">
                            <li><i class="ti-time"></i>Bắt đầu: 14/08/2019 </li>
                            <li><i class="ti-time"></i>Kết thúc: 21/08/2019 </li>
                        </ul>
                    </div>
                </li>
            </ul>
            <div class="box info-practice">
                <h4>Chi tiết lớp học</h4>
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
            </div>
        </div>
        <div class="box" v-if="tab2">
            <ul class="list ls-pratice">
                <li v-for="(obj,i) in practices">
                    <div class="inner">
                        <a href="javascript:;" v-b-toggle="`collapse-${i}`" class="btn-collapse parrent"><i class="ic" v-bind:class="[obj.icon]"></i>{{obj.title}}</a>
                        <b-collapse :id="`collapse-${i}`" accordion="my-accordion" role="tabpanel">
                            <ul class="list">
                                <li class="col-md-12" v-if="list_data.length" v-for="(item,k) in list_data">
                                    <div class="inner">
                                        <a href="javascript:;" v-b-toggle="`prc-${k}`" class="btn-collapse"><i class="ic ic-edit-small"></i>{{item.title}}<i class="ic ic-collapse"></i></a>
                                        <b-collapse :id="`prc-${k}`" role="tabpanel" accordion="sub-accordion">
                                            <b-card-body>
                                                <ul class="list">
                                                    <li class="sub-practice" v-if="item.detail.length" v-for="(exe,j) in item.detail">
                                                        <div class="flex j-between width-100">
                                                            <span class="width-100">{{exe.title}}</span>
                                                            <div class="flex width-100 j-end picker-schedule">
                                                                <vuejs-datepicker v-model="exe.start_date" format="dd/M/yyyy" class="date st"></vuejs-datepicker>
                                                                <vuejs-datepicker v-model="exe.end_date" format="dd/M/yyyy" class="date ed"></vuejs-datepicker>
                                                            </div>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </b-card-body>
                                        </b-collapse>
                                    </div>
                                </li>
                            </ul>
                        </b-collapse>
                    </div>
                </li>
            </ul>
        </div>
        <div class="box" v-if="tab3">
            <table id="ed_table" class="table">
                <thead>
                    <tr>
                        <th v-for="(field,k) in fields">{{field.label}}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="(item,k) in tableData" v-if="item.id > 0">
                        <td>{{k+1}}</td>
                        <td><a href="/teacher/student_detail.html" :title="item.name">{{item.name}}</a></td>
                        <td>{{item.email}}</td>
                        <td>{{item.phone}}</td>
                        <td v-bind:class="{good : (item.per > 50)}">{{item.per+'%'}}</td>
                        <td>{{item.last_update}}</td>
                        <td v-bind:class="{good : (item.score > 5)}">{{item.score + ' điểm'}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="box" v-if="tab4">
            <div class="row ls-doc">
                <div class="col-md-12">
                    <div class="inner">
                        <a href="#" title="" class="thumb">
                            <img src="/pictures/doc1.png" alt="">
                        </a>
                        <div class="entry">
                            <div class="flex j-between">
                                <div class="c-left">
                                    <a href="#" title="" class="title">IELTS Practice Tests</a>
                                    <div class="rating"><i class="icofont icofont-star"></i><i class="icofont icofont-star"></i></div>
                                </div>
                                <div class="c-right">
                                    <a href="#" title="Xem" class="btn-view">Xem</a>
                                    <a href="#" title="Tải về" class="btn-download">Tải về</a>
                                </div>
                            </div>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="inner">
                        <a href="#" title="" class="thumb">
                            <img src="/pictures/doc2.png" alt="">
                        </a>
                        <div class="entry">
                            <div class="flex j-between">
                                <div class="c-left">
                                    <a href="#" title="" class="title">IELTS Practice Tests</a>
                                    <div class="rating"><i class="icofont icofont-star"></i><i class="icofont icofont-star"></i></div>
                                </div>
                                <div class="c-right">
                                    <a href="#" title="Xem" class="btn-view">Xem</a>
                                    <a href="#" title="Tải về" class="btn-download">Tải về</a>
                                </div>
                            </div>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
@section Scripts{
    <script>
        new Vue({
            el: "#main",
            mounted() {
                this.getPratice()
            },
            components: {
                vuejsDatepicker
            },
            data: {
                practices: [
                    {
                        id: 1,
                        title: 'Listening',
                        icon: 'ic-headphone-o'
                    },
                    {
                        id: 2,
                        title: 'Speaking',
                        icon: 'ic-microphone-o'
                    },
                    {
                        id: 3,
                        title: 'Grammar',
                        icon: 'ic-grammar-o'
                    },
                ],
                list_news: [
                    {
                        title: 'Đã đến lúc HLV Park',
                        description: 'Đây là lúc để HLV Park giải bài toán khó nhất của ông',
                        thumbnail: '/pictures/news1.png'
                    },
                    {
                        title: 'HLV Park: Có khi p',
                        description: 'Đây là lúc để HLV Park giải bài toán khó nhất của ông',
                        thumbnail: '/pictures/news2.png'
                    },
                    {
                        title: 'Tiến Dũng và Văn Toả',
                        description: 'Đây là lúc để HLV Park giải bài toán khó nhất của ông',
                        thumbnail: '/pictures/news3.png'
                    }
                ],
                list_data: [
                    {
                        title: 'Section 1',
                        id: 1,
                        detail: [
                            {
                                title: 'Exercise 1',
                                note: 'Làm bài lần cuối',
                                date: '20/11/2019 09:46:58 PM',
                                start_date: '20/11/2019',
                                end_date: '20/12/2019',
                                score: 7,
                                id: 1,
                                state: true
                            },
                            {
                                title: 'Exercise 1',
                                note: 'Làm bài lần cuối',
                                date: '20/11/2019 09:46:58 PM',
                                start_date: '20/11/2019',
                                end_date: '20/12/2019',
                                score: 7,
                                id: 1,
                                state: true
                            },
                            {
                                title: 'Exercise 1',
                                note: 'Làm bài lần cuối',
                                date: '20/11/2019 09:46:58 PM',
                                start_date: '20/11/2019',
                                end_date: '20/12/2019',
                                score: 7,
                                id: 1,
                                state: false
                            }
                        ]
                    },
                    {
                        title: 'Section 2',
                        id: 2,
                        detail: [
                            {
                                title: 'Ngữ pháp cơ bản',
                                note: 'Làm bài lần cuối',
                                date: '20/11/2019 09:46:58 PM',
                                start_date: '20/11/2019',
                                end_date: '20/12/2019',
                                score: 7,
                                id: 1,
                                state: false
                            },
                            {
                                title: 'Exercise 1',
                                note: 'Làm bài lần cuối',
                                date: '20/11/2019 09:46:58 PM',
                                start_date: '20/11/2019',
                                end_date: '20/12/2019',
                                score: 7,
                                id: 1,
                                state: false
                            },
                            {
                                title: 'Luyện nói nâng cao',
                                note: 'Làm bài lần cuối vào ngày',
                                date: '20/11/2019 09:46:58 PM',
                                start_date: '20/11/2019',
                                end_date: '20/12/2019',
                                score: 7,
                                id: 1,
                                state: false
                            }
                        ]
                    }

                ],
                fields: [
                    {
                        key: 'stt',
                        label: '#'
                    },
                    {
                        key: 'name',
                        label: 'Họ tên'
                    },
                    {
                        key: 'email',
                        label: 'Email'
                    },
                    {
                        key: 'phone',
                        label: 'SĐT'
                    },
                    {
                        key: 'per',
                        label: 'Tiến độ'
                    },
                    {
                        key: 'last_update',
                        label: 'Lần cuối'
                    },
                    {
                        key: 'score',
                        label: 'Kết quả'
                    }
                ],
                tableData: [
                    {
                        id: 1,
                        name: 'Huong Ho',
                        email: 'lanhuongho0507@gmail.com',
                        phone: '0983750705',
                        per: 23,
                        last_update: '08:45 02/11/2019',
                        score: 4,
                    },
                    {
                        id: 2,
                        name: 'Nguyễn Thị Quỳnh Đan',
                        email: 'quynhdanhanu@gmail.com',
                        phone: '0983750705',
                        per: 51,
                        last_update: '08:45 02/11/2019',
                        score: 6,
                    },
                ],
                view: 10,
                page: 1,
                tab1: true,
                tab2: false,
                tab3: false,
                tab4: false,
                tab5: false
            },
            watch: {
            },
            methods: {
                getPratice() {
                    let _url = 'apiGetPractice'
                    // axios.get(_url)
                    //     .then(response =>{
                    //         console.log(response.data);
                    //         if(response.data.success){
                    //             this.list_data = response.data.data
                    //         }
                    //     }).catch(e =>{})
                },
                tabChange(a = 0) {
                    // có thể load data theo từng tab để tối ưu hiệu năng
                    // this.getData()
                    switch (a) {
                        case 1:
                            this.tab1 = false
                            this.tab2 = true
                            this.tab3 = false
                            this.tab4 = false
                            break;
                        case 2:
                            this.tab1 = false
                            this.tab2 = false
                            this.tab4 = false
                            this.tab3 = true
                            break;
                        case 3:
                            this.tab1 = false
                            this.tab2 = false
                            this.tab3 = false
                            this.tab4 = true
                            break;
                        default:
                            this.tab1 = true
                            this.tab2 = false
                            this.tab3 = false
                            this.tab4 = false
                            break;
                    }
                }
            }
        });
    </script>
}

