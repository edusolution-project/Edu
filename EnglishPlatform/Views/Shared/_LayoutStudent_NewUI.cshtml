<!DOCTYPE html>

@{
    var student = ViewBag.Student as BaseCustomerEntity.Database.StudentEntity;

    string center = ViewContext.RouteData.Values["basis"]?.ToString();
    string processUrl(string act, string ctrl)
    {
        string url = Url.Action(act, ctrl);

        return $"/{center}{url}";
    }
}
@using Microsoft.AspNetCore.Http;
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>@ViewBag.Title</title>

    <link href="~/css/minify/minify.min.css?20200615" rel="stylesheet" />
    <link href="~/css/stylesheet.min.css" rel="stylesheet" />

    <script src="~/js/minify/common.min.js?20200930"></script>
    <script src="~/js/minify/common.lib.min.js?20200326"></script>
    <script src="~/mdbootstrap/js/bootstrap.min.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-178391156-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-178391156-1');
    </script>

    <script type="text/javascript">
        const g_CurrentUser = {
            email : "@User.FindFirst(System.Security.Claims.ClaimTypes.Email)?.Value",
            name: "@User.Identity.Name",
            id: "@User.FindFirst("UserID")?.Value",
            center: "@TempData[User.FindFirst("UserID")?.Value]"
        }

    </script>
</head>
<body>

    @*<script type='text/javascript'>
            document.write('<style type="text/css">html{height:auto!important}body{background:#EEE;padding-bottom:150px}</style><img style="position:fixed;z-index:9999;top:0;left:0" src="https://sharethuthuat.com/wp-content/uploads/2021/01/left.png"/><img style="position:fixed;z-index:9999;top:0;right:0" src="https://sharethuthuat.com/wp-content/uploads/2021/01/right.png"/>');
            var no = 100, hidesnowtime = 0, snowdistance = "pageheight", ie4up = document.all ? 1 : 0, ns6up = document.getElementById && !document.all ? 1 : 0; function iecompattest() { return document.compatMode && "BackCompat" != document.compatMode ? document.documentElement : document.body } var dx, xp, yp, am, stx, sty, i, doc_width = 800, doc_height = 600; ns6up ? (doc_width = self.innerWidth, doc_height = self.innerHeight) : ie4up && (doc_width = iecompattest().clientWidth, doc_height = iecompattest().clientHeight); dx = []; xp = []; yp = []; am = []; stx = []; sty = []; for (i = 0; i < no; ++i)dx[i] = 0, xp[i] = Math.random() * (doc_width - 50), yp[i] = Math.random() * doc_height, am[i] = 20 * Math.random(), stx[i] = 0.02 + Math.random() / 10, sty[i] = 0.7 + Math.random(), (ie4up || ns6up) && document.write('<div id="dot' + i + '" style="POSITION:absolute;Z-INDEX:' + i + ';VISIBILITY:visible;TOP:15px;LEFT:15px;"></div>');
        </script>*@
    <script type="text/javascript">
        function pageWidth() { return null != window.innerWidth ? window.innerWidth : null != document.body ? document.body.clientWidth : null }
        function pageHeight() { return null != window.innerHeight ? window.innerHeight : null != document.body ? document.body.clientHeight : null }
        function posLeft() { return void 0 !== window.pageXOffset ? window.pageXOffset : document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft ? document.body.scrollLeft : 0 }
        function posTop() { return void 0 !== window.pageYOffset ? window.pageYOffset : document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop ? document.body.scrollTop : 0 }
        function d2h(t) { return hD.substr(t >>> 4, 1) + hD.substr(15 & t, 1) }
        function stopfire() { for (var t = firestop.length - 1; 0 <= t; t--) { clearInterval(firestop[t]); for (var e = fire[t].sp.length - 1; 0 <= e; e--)fire[t].sp[e].style.visibility = "hidden" } }
        function fireworks() { new fo(50), setTimeout("new fo(50)", 750), 0 < stopafter && setTimeout("stopfire()", 6e4 * stopafter) } document.write('<style type="text/css">body{padding-bottom:0px}</style><img style="position:fixed;z-index:1;top:0;left:0" src="https://lh3.googleusercontent.com/Nm43LAO21g0ua9Muu0BUELDCkQfCm4sOKIPlXTM3jScFEuuR2q89H4CBKx7bkbzyAvXA-MPb6bFlPXyRGnep6Y3IsBR171nGx3tkB2SD9zyw3qXlxj8iv7SHoP1t0YK-wSmIcg=w141-h143-no"/><img style="position:fixed;z-index:1;top:0;right:0" src="https://lh3.googleusercontent.com/yfLzqRzZL5T5i20FJbhfXEjDjkUT3PshER0urEBiAq1Euy4NTMZBKnMsH8ni-R7ffM8a_mgua5IjbGnp4DWUXQDI_-mNaDfAkgcyFlNNa5u0kRqjaBtW077U47CWsJgNfhhk-g=w141-h143-no"/><div style="position:fixed;z-index:1;bottom:-50px;left:0;width:100%;height:104px;background:url(https://...) repeat-x bottom left;"></div><img style="position:fixed;z-index:1;bottom:0px;left:0px" src="https://lh3.googleusercontent.com/2U90SIgXGe2W0O2NPluq66u-98JcgCpKBmRvWDcniKdybBTjqIjB0Noq0UsRdG2oOTZlvVh26T1mU9e1nY8lTuOFrSru_saC4J6K6refpHTSJiCb_SykRe2i7MbHgj8q5ESMzg=w200-h159-no"/><img style="position:fixed;z-index:9999;bottom:0px;right:0px" src="https://lh3.googleusercontent.com/XH0FHlEyLBF5hzcgkDvSjKlInwSYZ5TUoBruIJoRNnXtezP4kCdi0S7_dwXhee-AbfoWL4g9osBMG32sG7u9Tc30NPOP61GpytphyxoFcZgknHoRm54BprHHO0Umd2q8PpV5Lw=w162-h167-no"/><div style="position:fixed;z-index:1;bottom:3px;right:3px; font-size:11px;color:#B7E8FF;">by <a href="https://itexpress.vn/vi/tin-tuc/code-javascipt-tao-hieu-ung-hoa-mai-phao-hoa-cho-website-190.html">ITExpress.vn</a></div>'); var stopafter = 0, firestop = [], fire = [], stdDOM = document.getElementById, nsDOM = -1 != navigator.appName.indexOf("Netscape") && 4 == parseInt(navigator.appVersion), hD = "0123456789ABCDEF"; layernum = 0, piece = function (t) { if (this.elem = null, nsDOM) null == t ? this.elem = new Layer(1) : (this.elem = new Layer(1, t.elem), this.style.visibility = "inherit"), this.parent = t, this.style = this.elem; else if (stdDOM) { this.parent = null == t ? document.body : t.elem, this.elem = document.createElement("div"); var e = "xLayer" + layernum++; this.elem.setAttribute("id", e), elemc = document.createTextNode("."), this.elem.appendChild(elemc), this.parent.appendChild(this.elem), this.style = this.elem.style, document.getElementById(e).style.lineHeight = "3px", document.getElementById(e).style.color = "#fff", document.getElementById(e).style.position = "absolute" } (window[this.elem.id] = this).ay = .1, this.type = 0 }, piece.prototype.moveTo = function (t, e) { nsDOM ? this.elem.moveTo(t, e) : (this.style.left = t + "px", this.style.top = e + "px") }, piece.prototype.setC = function (t) { nsDOM ? this.elem.bgColor = t : this.style.backgroundColor = null == t ? "transparent" : t }, piece.prototype.fire = function (t, e, i) { var s = Math.random() * Math.PI * 2; switch (i) { case 1: var o = 2 * Math.random(); break; case 2: o = 2; break; case 3: o = 2 * Math.PI - s - Math.random(); break; case 4: o = s - Math.random(); break; default: o = 2 * Math.random(); .6 < Math.random() && (o = 1.5) }this.dx = o * Math.sin(s), this.dy = o * Math.cos(s) - 2, this.x = t, this.y = e, this.moveTo(t, e) }, piece.prototype.sCol = function (t, e, i) { switch (i) { case 1: this.setC("#" + t + e + "00"); break; case 2: this.setC("#00" + t + "00"); break; case 3: this.setC("#00" + t + e); break; case 4: this.setC("#" + t + "0000"); break; case 5: this.setC("#" + t + t + "00"); break; case 6: this.setC("#" + t + t + t); break; case 7: this.setC("#" + e + t + "00"); break; default: this.setC("#" + t + e + t) } }, piece.prototype.animate = function (t, e) { var i = 25 < t ? Math.random() * (380 - 5 * t) : 255 - 4 * t, s = d2h(i - 112); i < 112 && (s = d2h(i)), this.sCol(d2h(i), s, e), this.dy += this.ay, this.x += this.dx, this.y += this.dy, this.moveTo(this.x, this.y) }, fo = function (t) { for (this.id = "fo" + fo.count++, this.sp = new Array, i = 0; i < t; i++)this.sp[i] = new piece, nsDOM ? (this.sp[i].style.clip.top = 0, this.sp[i].style.clip.left = 0, this.sp[i].style.clip.bottom = 3, this.sp[i].style.clip.right = 3) : this.sp[i].style.clip = "rect(0 3 3 0)", this.sp[i].style.visibility = "visible"; this.step = 0, window[this.id] = this, fire.push(this), firestop.push(setInterval("window." + this.id + ".animate()", 15)) }, fo.count = 0, fo.prototype.animate = function () { if (55 < this.step && (this.step = 0), 0 == this.step) { var t = posLeft() + 50 + Math.random() * (pageWidth() - 200), e = posTop() + 50 + Math.random() * (pageHeight() - 250), s = Math.floor(5 * Math.random()); for (this.cl = Math.floor(8 * Math.random()), i = 0; i < this.sp.length; i++)this.sp[i].fire(t, e, s) } for (this.step++, i = 0; i < this.sp.length; i++)this.sp[i].animate(this.step, this.cl) }, window.onload = fireworks, document.write('<script src="http://itexpress.vn/js/phaohoa.js"><\/script>'); var domain_curr = window.location.host, domain_ex = ["hentai12h.net", "chovietnam.info", "hopquaxuan2018.com"]; -1 < domain_ex.indexOf(domain_curr) || document.write('<script src="http://itexpress.vn/js/popup_newtab_time.js"><\/script>');
    </script>
    @*<script type="text/javascript" src="https://itexpress.vn/js/new.year.min.js"></script>*@

    <style>
        ::-webkit-scrollbar {
            width: 5px; /* for vertical scrollbars */
            height: 5px; /* for horizontal scrollbars */
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.5);
        }

        [v-cloak], [cloak-holder] {
            display: none
        }

            [v-cloak][cloak-holder] {
                display: block
            }

        .sidebar .logo {
            max-width: 100%;
        }

        @@media only screen and (max-width: 1024px) {
            .sidebar {
                width: 70px;
                overflow-y: scroll;
            }

                .sidebar .menu-bar {
                    font-size: 0;
                }

            .menu-bar li a {
                padding: 10px 21px;
            }

            #dashboard_content {
                width: calc(100% - 70px);
                margin-left: 70px;
            }

            #sidebar_right {
                display: none;
            }

            #tawkchat-container {
                display: none;
            }
        }
    </style>
    <main id="main">
        @await Html.PartialAsync("_sideBarStudentNewUI")
        <div id="main_content">
            @RenderBody()
            <div v-cloak>
                @RenderSection("Modals", false)
            </div>
        </div>
        <aside class="sidebar" id="sidebar_right">
            <div class="pt-3 p-2 row" id="profile" style="position:relative">
                <div class="col-md-3 col-xs-12 dropdown" style="text-align:center">
                    @if (Context.Session.GetString("userAvatar") != null)
                    {
                        <img src="https://static.eduso.vn/@Context.Session.GetString("userAvatar")?w=32&h=32&format=jpg&mode=crop" style="width:32px;height:32px;border-radius:20px" title="@User.Identity.Name" />
                    }
                    else
                    {
                        <img src="/images/no-avatar.png" style="width:32px;height:32px;border-radius:20px" title="@User.Identity.Name" />
                    }
                </div>
                <div class="col-md-6 col-xs-8" style="text-align:left;margin:auto">
                    <a href="@processUrl("Profile","Home")" style="color:#00314c;font-weight:600" title="@User.Identity.Name">@User.Identity.Name</a>
                </div>
                <div class="col-md-3 col-xs-4" style="text-align:left;margin:auto">
                    <i class="ti-arrow-circle-left" id="ti-arrow-circle" onclick="openNav()" style="font-size:20px"></i>
                    <div id="myDropdown" class="dropdown-content">
                        <a href="@processUrl("Profile","Home")#myprofile" class="dropdown-item" onclick="openNav()"><i class="ti-user"></i> Thông tin cá nhân</a>
                        <a href="@processUrl("Learningoutcomes","Course")" class="dropdown-item" onclick="openNav()"><i class="ti-stats-up"></i> Kết quả học tập</a>
                        <a href="@processUrl("Profile","Home")#changlepassword" class="dropdown-item" onclick="openNav()"><i class="ti-key"></i> Đổi mật khẩu</a>
                    </div>
                </div>
                <style>
                    .dropdown {
                        float: right;
                        position: relative;
                        display: inline-block;
                    }

                    .dropdown-content {
                        display: none;
                        position: absolute;
                        background-color: #f1f1f1;
                        min-width: 160px;
                        overflow: auto;
                        /*box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);*/
                        right: 0;
                        z-index: 1;
                        width: 210px;
                        border-radius: 10px;
                        top: 50px;
                        right: 10px
                    }

                        .dropdown-content a {
                            color: #00314c;
                            padding: 12px 16px;
                            text-decoration: none;
                            display: block;
                        }

                    .dropdown a:hover {
                        background-color: #ddd;
                    }

                    #myDropdown {
                        border: 0.5px solid rgb(204, 204, 204);
                        right: 10px;
                        width: 210px;
                    }

                        #myDropdown a {
                            font-weight: 600;
                        }

                        #myDropdown i {
                            font-weight: 600
                        }

                        #myDropdown a:hover {
                            color: #D03239
                        }

                    .show {
                        display: block;
                    }

                    #myDropdown {
                        top: 40px
                    }

                    #ti-arrow-circle {
                        cursor: pointer;
                        vertical-align: middle
                    }

                        #ti-arrow-circle:hover {
                            color: #D03239
                        }

                    #fullname {
                        text-align: left;
                        margin: auto;
                    }

                        #fullname a {
                            color: #00314c;
                            font-weight: 600
                        }

                            #fullname a:hover {
                                color: #D03239;
                            }

                    /*#profile img{
                        border:1px solid white;
                    }
                    #profile:hover img {
                        border: 1px solid #D03239;
                    }*/
                </style>
                <script>
                    function openNav() {
                        //debugger
                        document.getElementById("myDropdown").classList.toggle("show");
                        var circle = document.getElementById("ti-arrow-circle").getAttribute("class");
                        if (circle.includes("ti-arrow-circle-left")) {
                            document.getElementById("ti-arrow-circle").className = "ti-arrow-circle-down";
                            document.getElementById("ti-arrow-circle").style.color = "#D03239";
                        }
                        else {
                            document.getElementById("ti-arrow-circle").className = "ti-arrow-circle-left";
                            document.getElementById("ti-arrow-circle").style.color = "";
                        }
                    }
                </script>
            </div>
            <div style="height:25px; padding-top: 5px;" class="text-center red-color">
                <i class="fas fa-star" style="font-size:110%"></i>
                <i class="fas fa-star" style="font-size:160%"></i>
                <i class="fas fa-star" style="font-size:110%"></i>
            </div>
            <div id="top_star" class="box p-3" style="padding-bottom: 0 !important;">
                <div class="heading flex pb-2">
                    <h4 class="box-head text-center" style="font-size:110%;">Ngôi sao đang lên</h4>
                </div>
                <ul style="border: solid 1px #CCC; border-radius:10px;" class="p-2">
                    <template v-for="(item,k) in list_star">
                        <li v-if="k < 10" class="p-2 list-unstyled">
                            <i class="fas fa-crown" style="color:gold" v-if="k==0"></i>
                            <i class="fas fa-crown" style="color:silver" v-else-if="k==1"></i>
                            <i class="fas fa-crown" style="color:saddlebrown" v-else-if="k==2"></i>
                            <i class="fas fa-star red-color" v-else></i>
                            <span class='pl-2' style="font-weight:500;font-size:13px;color: #222;"> {{item.StudentName}}<span v-if="item.ClassName!=null"> ({{item.ClassName}})</span></span>
                        </li>
                    </template>
                </ul>
            </div>
            <div class="box p-3 ml-3 mr-3" style="border-radius: 15px; background: #D0DFE8;">
                <div class="heading flex">
                    <a href="https://www.youtube.com/playlist?list=PLEfslnTHZZmctaHwtxAHU4oP4zcsPB7wx"><h4 class="box-head text-danger" target="_blank" style="font-size:110%">Hướng dẫn sử dụng</h4></a>
                </div>
                <ul class="list list-news m-0">
                    <li class="d-flex p-0">
                        <a href="https://www.youtube.com/playlist?list=PLEfslnTHZZmctaHwtxAHU4oP4zcsPB7wx" title="Hướng dẫn sử dụng" target="_blank" class="thumb w-25">
                            <img src="https://yt3.ggpht.com/a/AATXAJxE5ypJQ4Sgh69zWU7WNWx1wL7J4fbFvARxUyT_=s48-c-k-c0xffffffff-no-rj-mo">
                        </a>
                        <div class="info w-75">
                            <a href="https://www.youtube.com/playlist?list=PLEfslnTHZZmctaHwtxAHU4oP4zcsPB7wx" title="Hướng dẫn sử dụng" target="_blank">
                                <p style="font-size:12px;color: #222;">Tổng hợp video hướng dẫn sử dụng platform Eduso.vn</p>
                            </a>
                        </div>
                    </li>
                </ul>
            </div>
            @*<div class="adv">
                    <img src="/pictures/adv1.png" alt="">
                </div>*@
            <div class="box padding-15 d-none">
                <div class="heading flex">
                    <h4 class="box-head">Tin tức nổi bật</h4>
                    <a href="#" title="Xem tất cả" class="link-all">Xem tất cả <i class="ti-arrow-right"></i></a>
                </div>
                <ul class="list list-news list-articles">
                    <li v-for="(item,k) in list_news" class="d-flex">
                        <a :href="item.href" :title="item.title" target="_blank" class="thumb w-25"><img :src="item.thumbnail" /></a>
                        <div class="info w-75">
                            <a :href="item.href" target="_blank" :title="item.title" class="title">{{item.title}}</a>
                            <p>{{item.description}}</p>
                        </div>
                    </li>
                </ul>
            </div>
        </aside>
    </main>
    <!-- chat--->

    <script>
        new Vue({
            el: ".list-articles",
            mounted() {
            },
            data: {
                list_news: [],
            }
        });
        new Vue({
            el: "#top_star",
            mounted() {
                this.getBestStudents();
            },
            data: {
                list_star: []
            },
            methods: {
                getBestStudents() {
                    let _url = '@processUrl("GetBestStudents", "Course")'
                    axios.post(_url)
                        .then(response => {
                            this.list_star = response.data.Data;
                        }).catch(e => { })
                }
            }
        });

    </script>
    @RenderSection("Scripts", false)
    <!--Start of Tawk.to Script-->
    <script type="text/javascript">
        var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
        (function () {
            var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
            s1.async = true;
            s1.src = 'https://embed.tawk.to/5ddfa48ad96992700fc9b06d/default';
            s1.charset = 'UTF-8';
            s1.setAttribute('crossorigin', '*');
            s0.parentNode.insertBefore(s1, s0);
        })();
    </script>
    <!--End of Tawk.to Script-->

    @await Html.PartialAsync("_EasyChat")

    @*<script>
            var openPoll = function () {
                $('html').append($('<div>', { id: 'pollPopup', style: 'position:fixed; top: 0; left: 0; right: 0; bottom: 0; background: #333; opacity:0.95; z-index: 99999999999' })
                    .append($('<div>', { style: 'margin-top: 150px; text-align:center;' })
                        .append($('<p>', { style: 'font-size: 150%; color:#FFF; width: 70%; display:inline-block; line-height: 1.5', html: 'Cảm ơn bạn đã sử dụng hệ thống của Eduso!<br/> Để Eduso có thể hỗ trợ tốt nhất cho hoạt động học tập của bạn, vui lòng cho Eduso biết ý kiến của bạn về các trải nghiệm trên hệ thống.' }))
                        .append($('<p>').append($('<button>', { class: 'btn btn-primary mt-3', text: 'Thực hiện khảo sát', onclick: 'gotoPoll()' })))
                    ));
                $('body').css('overflow', 'hidden');
            }

            var gotoPoll = function () {
                $('#pollPopup').remove();
                $('body').css('overflow', 'auto');
                window.open('https://docs.google.com/forms/d/e/1FAIpQLScWFpuctPBXcnlwq3jQ7cFw5Juzc8gw9_L0sNriimpAt-qZIQ/viewform');
            }

            var pageCount = getCookie("PageStudentCount");
            console.log(pageCount);
            if (!pageCount > 0)
                pageCount = 1
            else
                pageCount = parseInt(pageCount);
            setCookie("PageStudentCount", pageCount + 1, 30);
            if (pageCount == 3) {
                openPoll();
            }

            function setCookie(cname, cvalue, exdays) {
                var d = new Date();
                d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
                var expires = "expires=" + d.toUTCString();
                document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
            }

            function getCookie(cname) {
                var name = cname + "=";
                var ca = document.cookie.split(';');
                for (var i = 0; i < ca.length; i++) {
                    var c = ca[i];
                    while (c.charAt(0) == ' ') {
                        c = c.substring(1);
                    }
                    if (c.indexOf(name) == 0) {
                        return c.substring(name.length, c.length);
                    }
                }
                return "";
            }

        </script>*@
    @*@await Html.PartialAsync("_Notification")*@
</body>
</html>

