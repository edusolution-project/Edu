@using Microsoft.AspNetCore.Http
@model BaseCustomerEntity.Database.CenterEntity
@{
    var isHeadTeacher = ViewBag.IsHeadTeacher ?? false;
    string processUrl(string act, string ctrl)
    {
        string url = Url.Action(act, ctrl);

        return $"/{Model.Code}{url}";
    }
}
<aside class="sidebar" id="sidebar">
    <div class="card-header" style="height:100px;">
        <a href="/@Model.Code/teacher" class="logo text-center" title="@Model.Name" style="max-height:100px;"><img src="@(Model.Image != null ? Model.Image : "/images/Logo.png")" /></a>
    </div>
    <div class="menu-bar" style="position:absolute; top: 100px; bottom: 0; width: 100%; overflow:auto;">
        <ul>
            @*<li for="home">
                    <a href="@processUrl("Index", "Home")" title="Trang chủ"><i class="ic ic-home"></i>Trang chủ</a>
                </li>

                <li for="course">
                    <a href="@processUrl("Index" , "Class")" title="Quản lý lớp học"><i class="ic ic-book-pen"></i>Quản lý lớp học</a>
                </li>

                @if (isHeadTeacher)
                {
                    <li for="teacher">
                        <a href="@processUrl("Index" , "TeacherManage")" title="Quản lý giáo viên"><i class="ic ic-multi-user"></i>Quản lý giáo viên</a>
                    </li>
                }

                <li for="student">
                    <a href="@processUrl("Index" , "StudentManage")" title="Quản lý học viên"><i class="ic ic-book-pen"></i>Quản lý học viên</a>
                </li>

                <li for="profile" id="showbtnProfile" style="display:none">
                    <a href="@processUrl("Profile","Home")" title="Cá nhân"><i class="ic ic-user"></i>Cá nhân</a>
                </li>

                <li for="curriculum">
                    <a href="@processUrl("Index" , "Curriculum")" title="Tạo bài giảng"><i class="ic ic-book"></i>Tạo bài giảng</a>
                </li>

                <li for="reference">
                    <a href="@processUrl("Index" , "Reference" )" title="Học liệu"><i class="ic ic-file"></i>Học liệu</a>
                </li>

                <li for="calendar">
                    <a href="@processUrl("Index" , "Calendar" )" title="Quản lý lịch dạy"><i class="ic ic-celendar"></i>Lịch dạy</a>
                </li>

                <li for="">
                    <a href="@processUrl("Index" , "ExamManage" )" title="Khảo thí"><i class="ic ic-book-pen"></i>Khảo thí</a>
                </li>
                        @if (isHeadTeacher)
                    {
                        <li for="product">
                            <a href="@processUrl("Index", "Product")" title="Quản lý gói học"><i class="ic ic-celendar"></i>Quản lý gói học</a>
                        </li>
                    }

                    <li for="discussion">
                        <a href="javascript:;;" onclick="$('.easy-chat__content').toggleClass('open')" title="Thảo luận"><i class="ic ic-discussion"></i>Thảo luận</a>
                    </li>

                        <li for="news">
                        <a href="@processUrl("Index", "News" )" title="Tin tức"><i class="ic ic-paper"></i>Tin tức</a>
                        <a href="/tin-tuc" title="Tin tức"><i class="ic ic-paper"></i>Tin tức</a>
                </li>*@

            <li for="home">
                <a href="@processUrl("Index", "Home")" title="Trang chủ"><i class="fas fa-home mr-3" style="font-size:16px"></i>Trang chủ</a>
            </li>
            <li for="mycourse">
                <a href="/@Model.Code/teacher/class/myclass" title="Lớp của tôi"><i class="fas fa-chalkboard mr-3" style="font-size:16px"></i>Lớp của tôi</a>
            </li>

            <li for="teacher" id="parentMenu">
                <a href="#" title="Quản lý giáo viên" onclick="openChilMenu('chilMenu')">
                    <i class="fas fa-tasks mr-3" style="font-size:16px"></i>Quản lý
                    <i class="ti-arrow-circle-left" id="ti-arrow-circle" style="font-size:16px;float:right"></i>
                </a>
            </li>

            <ul id="chilMenu" class="ml-3 hide" style="display:none">
                @if (isHeadTeacher)
                {
                    <li for="managecourse">
                        <a href="@processUrl("Index" , "Class")" title="Quản lý lớp học"><i class="fas fa-chalkboard mr-3" style="font-size:16px"></i>Lớp học</a>
                    </li>

                    <li for="teacher">
                        <a href="@processUrl("Index" , "TeacherManage")" title="Quản lý giáo viên"><i class="fas fa-chalkboard-teacher mr-3" style="font-size:16px"></i>Giáo viên</a>
                    </li>
                }
                <li for="student">
                    <a href="@processUrl("Index" , "StudentManage")" title="Quản lý học viên"><i class="fas fa-user-graduate mr-3" style="font-size:16px"></i>Học viên</a>
                </li>

                <li for="curriculum">
                    <a href="@processUrl("Index" , "Curriculum")" title="Quản lý bài giảng"><i class="fas fa-book-open mr-3" style="font-size:16px"></i>Tạo bài giảng</a>
                </li>
            </ul>

            <li for="profile" id="showbtnProfile" style="display:none">
                <a href="@processUrl("Profile","Home")" title="Cá nhân"><i class="ic ic-user"></i>Cá nhân</a>
            </li>

            <li for="reference">
                <a href="@processUrl("Index" , "Reference" )" title="Học liệu"><i class="far fa-clipboard mr-3" style="font-size:16px"></i>Học liệu</a>
            </li>

            <li for="calendar">
                <a href="@processUrl("Index" , "Calendar" )" title="Quản lý lịch dạy"><i class="far fa-calendar-check mr-3" style="font-size:16px"></i>Lịch dạy</a>
            </li>

            <li for="manageexam">
                <a href="@processUrl("Index" , "ExamManage" )" title="Khảo thí"><i class="ic ic-book-pen"></i>Khảo thí</a>
            </li>

            <li for="news">
                <a href="/tin-tuc" title="Tin tức"><i class="far fa-comment-alt mr-3" style="font-size:16px"></i>Tin tức</a>
            </li>
        </ul>
        <div class="adv">
            <img src="/pictures/undraw_book_lover_mkck.png" alt="">
        </div>
    </div>

</aside>
<style>
</style>
<script>
    var setActiveMenu = function (menu) {
        $('.menu-bar li[for=' + menu + ']').addClass('active');
        if (menu == 'managecourse' || menu == 'teacher' || menu == 'student' || menu == 'curriculum') {
            $("#chilMenu").attr("style", "display:block")
        }
        else {
            $("#chilMenu").attr("style", "display:none")
        }
    }

    var responeMenu = function () {
        //debugger
        var w = $(window).width();
        if (w < 1024) {
            document.getElementById("showbtnProfile").style.display = "";
        }
        else {
            document.getElementById("showbtnProfile").style.display = "none";
        }
    }

    var openChilMenu = function () {
        if ($("#chilMenu").attr("style") == "display:none")
            $("#chilMenu").attr("style", "display:block")
        else {
            $("#chilMenu").attr("style", "display:none")
        }
    }

    $(document).ready(function () {
        responeMenu();
    });

    $(window).resize(function () {
        responeMenu();
    });

</script>
